(function(a,b,c,d){var e=a(document),f=a(c),g,h,i=function(){var c=a[b]("getOptions").baseHeight,d=a[b]("getContainer"),e=f.height(),h=a[b]("getSlides"),i,j;d.hasClass(a[b]("getOptions").classes.scale)?(g=c?c:function(){var b=0;return a.each(h,function(a,c){b=Math.max(b,c.outerHeight())}),b}(),i=e/g):i=1,j=i>=1?"none":"scale("+i+")",a.each("Webkit Moz O ms Khtml".split(" "),function(a,b){d.css(b+"Transform",j)})};a.extend(!0,a[b].defaults,{classes:{scale:"deck-scale"},keys:{scale:83},baseHeight:null,scaleDebounce:200}),a[b]("extend","disableScale",function(){a[b]("getContainer").removeClass(a[b]("getOptions").classes.scale),i()}),a[b]("extend","enableScale",function(){a[b]("getContainer").addClass(a[b]("getOptions").classes.scale),i()}),a[b]("extend","toggleScale",function(){var c=a[b]("getContainer");a[b](c.hasClass(a[b]("getOptions").classes.scale)?"disableScale":"enableScale")}),e.bind("deck.init",function(){var d=a[b]("getOptions");a[b]("getContainer").addClass(d.classes.scale),f.unbind("resize.deckscale").bind("resize.deckscale",function(){c.clearTimeout(h),h=c.setTimeout(i,d.scaleDebounce)}).unbind("load.deckscale").bind("load.deckscale",i),e.unbind("keydown.deckscale").bind("keydown.deckscale",function(c){if(c.which===d.keys.scale||a.inArray(c.which,d.keys.scale)>-1)a[b]("toggleScale"),c.preventDefault()}),i()})})(jQuery,"deck",this)